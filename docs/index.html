<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TechVocab Trainer ‚Äì Sports Data, Sensors & Positioning</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: #0f172a;
            color: #e5e7eb;
            line-height: 1.6;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        header {
            position: sticky;
            top: 0;
            z-index: 20;
            backdrop-filter: blur(16px);
            background: rgba(15,23,42,0.92);
            border-bottom: 1px solid rgba(148,163,184,0.4);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 14px 18px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
        }

        .logo {
            font-size: 1.4rem;
            font-weight: 700;
            letter-spacing: 0.08em;
            text-transform: uppercase;
        }

        .logo span {
            color: #38bdf8;
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 22px;
            font-size: 0.95rem;
        }

        nav a {
            opacity: 0.85;
        }

        nav a:hover {
            opacity: 1;
        }

        .btn-nav {
            padding: 7px 16px;
            border-radius: 999px;
            border: 1px solid #38bdf8;
            font-size: 0.85rem;
        }

        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 26px 18px 60px;
        }

        section {
            margin-top: 40px;
        }

        .section-title {
            font-size: 1.7rem;
            margin-bottom: 8px;
        }

        .section-subtitle {
            font-size: 0.95rem;
            color: #9ca3af;
            max-width: 620px;
            margin-bottom: 24px;
        }

        /* HERO */
        .hero {
            display: grid;
            grid-template-columns: minmax(0,1.5fr) minmax(0,1.2fr);
            gap: 40px;
            margin-top: 24px;
            align-items: center;
        }

        .hero-title {
            font-size: clamp(2.1rem, 4vw, 3rem);
            font-weight: 700;
            margin-bottom: 14px;
        }

        .hero-title span {
            color: #38bdf8;
        }

        .hero-text {
            font-size: 0.98rem;
            color: #cbd5f5;
            margin-bottom: 22px;
        }

        .hero-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 14px;
            margin-bottom: 18px;
        }

        .btn-primary {
            background: linear-gradient(135deg,#2563eb,#38bdf8);
            color: white;
            border-radius: 999px;
            padding: 12px 24px;
            font-size: 0.95rem;
            border: none;
            cursor: pointer;
        }

        .btn-primary:hover {
            filter: brightness(1.05);
        }

        .btn-secondary {
            background: transparent;
            border-radius: 999px;
            padding: 11px 22px;
            font-size: 0.93rem;
            border: 1px solid #64748b;
            cursor: pointer;
            color: #e5e7eb;
        }

        .btn-secondary:hover {
            border-color: #cbd5f5;
        }

        .hero-meta {
            font-size: 0.85rem;
            color: #9ca3af;
        }

        .hero-card {
            background: radial-gradient(circle at top,#1d2a3f,#020617);
            border-radius: 20px;
            padding: 22px 20px;
            box-shadow: 0 22px 50px rgba(15,23,42,0.9);
            border: 1px solid rgba(148,163,184,0.6);
        }

        .pill {
            display: inline-block;
            font-size: 0.75rem;
            padding: 4px 10px;
            border-radius: 999px;
            background: rgba(56,189,248,0.1);
            color: #38bdf8;
            margin-bottom: 10px;
        }

        .hero-card h3 {
            font-size: 1.05rem;
            margin-bottom: 8px;
        }

        .hero-card ul {
            list-style: none;
            display: grid;
            gap: 6px;
            font-size: 0.9rem;
            color: #cbd5f5;
            margin-top: 4px;
        }

        /* GRID */
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3,minmax(0,1fr));
            gap: 20px;
        }

        .card {
            background: #020617;
            border-radius: 16px;
            padding: 18px 18px 20px;
            border: 1px solid rgba(148,163,184,0.45);
            box-shadow: 0 18px 40px rgba(15,23,42,0.8);
        }

        .card h3 {
            font-size: 1.02rem;
            margin-bottom: 8px;
        }

        .card p {
            font-size: 0.9rem;
            color: #cbd5f5;
            margin-bottom: 10px;
        }

        .tag {
            display: inline-block;
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 999px;
            background: rgba(56,189,248,0.1);
            color: #38bdf8;
        }

        /* GAME SECTION */
        .game-setup {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-items: center;
            margin-bottom: 16px;
            font-size: 0.9rem;
        }

        select {
            background: #020617;
            color: #e5e7eb;
            border-radius: 999px;
            border: 1px solid #475569;
            padding: 7px 12px;
            font-size: 0.9rem;
        }

        .game-container {
            background: #020617;
            border-radius: 18px;
            padding: 20px;
            border: 1px solid rgba(56,189,248,0.7);
            box-shadow: 0 18px 45px rgba(8,47,73,0.9);
            margin-bottom: 24px;
        }

        .game-header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 10px;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .hearts {
            color: #f97373;
            letter-spacing: 3px;
        }

        .game-question {
            font-size: 1.05rem;
            margin-bottom: 8px;
        }

        .game-subline {
            font-size: 0.85rem;
            color: #9ca3af;
            margin-bottom: 14px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(2,minmax(0,1fr));
            gap: 10px;
            margin-bottom: 10px;
        }

        .option-btn {
            padding: 10px 10px;
            border-radius: 12px;
            border: 1px solid #475569;
            background: #020617;
            color: #e5e7eb;
            font-size: 0.9rem;
            cursor: pointer;
            text-align: left;
        }

        .option-btn:hover {
            border-color: #38bdf8;
        }

        .game-feedback {
            font-size: 0.9rem;
            min-height: 20px;
            margin-bottom: 10px;
        }

        .small-btn {
            padding: 7px 14px;
            border-radius: 999px;
            border: none;
            font-size: 0.83rem;
            cursor: pointer;
            background: #22c55e;
            color: #022c22;
        }

        .small-btn.secondary {
            background: #0f172a;
            color: #e5e7eb;
            border: 1px solid #475569;
        }

        /* CATEGORY GAME */
        #cat-word {
            font-size: 1.02rem;
            margin-bottom: 10px;
        }

        .cat-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 10px;
        }

        .cat-btn {
            padding: 7px 16px;
            border-radius: 999px;
            border: 1px solid #475569;
            background: #020617;
            color: #e5e7eb;
            font-size: 0.85rem;
            cursor: pointer;
        }

        .cat-btn:hover {
            border-color: #38bdf8;
        }

        footer {
            border-top: 1px solid rgba(148,163,184,0.35);
            padding: 18px 18px 26px;
            font-size: 0.8rem;
            color: #9ca3af;
            margin-top: 30px;
        }

        .footer-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
        }

        footer a {
            margin-left: 14px;
        }

        @media (max-width: 900px) {
            .hero {
                grid-template-columns: minmax(0,1fr);
            }
            .grid-3 {
                grid-template-columns: minmax(0,1fr);
            }
            .options-grid {
                grid-template-columns: minmax(0,1fr);
            }
            nav ul {
                flex-wrap: wrap;
                justify-content: flex-end;
                gap: 14px;
            }
        }
    </style>
</head>
<body>

<header>
    <div class="nav-container">
        <div class="logo">TechVocab <span>Trainer</span></div>
        <nav>
            <ul>
                <li><a href="#start">Home</a></li>
                <li><a href="#topics">Topics</a></li>
                <li><a href="#games">Games</a></li>
                <li><a href="#contact" class="btn-nav">Contact</a></li>
            </ul>
        </nav>
    </div>
</header>

<main>
    <!-- HERO -->
    <section class="hero" id="start">
        <div>
            <h1 class="hero-title">
                Learn English tech vocabulary with a real game.
            </h1>
            <p class="hero-text">
                Focus on three units from your book: <strong>Sports Data</strong>, <strong>Sensors</strong> and
                <strong>Positioning</strong>.  
                Play, collect points and repeat all important words.
            </p>
            <div class="hero-actions">
                <button class="btn-primary" onclick="scrollToSection('games')">Start the vocabulary game</button>
                <button class="btn-secondary" onclick="scrollToSection('topics')">See all word lists</button>
            </div>
            <p class="hero-meta">
                Multiple choice ‚Ä¢ German translations ‚Ä¢ Lives & score ‚Ä¢ Category mini game
            </p>
        </div>

        <aside class="hero-card">
            <span class="pill">Your study plan (example)</span>
            <h3>Today‚Äôs focus</h3>
            <ul>
                <li>üéØ 10 words from <strong>Sports Data</strong></li>
                <li>üéØ 10 words from <strong>Sensors</strong></li>
                <li>üéÆ 1 full round of the quiz game</li>
                <li>üß† 5 quick questions in the Category Challenge</li>
            </ul>
        </aside>
    </section>

    <!-- TOPICS INFO -->
    <section id="topics">
        <h2 class="section-title">The three vocabulary topics</h2>
        <p class="section-subtitle">
            All game words come from these units. The idea: you use this website to repeat the vocab,
            and your book for reading texts and exercises.
        </p>

        <div class="grid-3">
            <article class="card">
                <h3>1. Sports Data</h3>
                <p>
                    Words about cyclists, sensors in bikes and how to measure power, altitude, heart rate
                    and more.
                </p>
                <p class="tag">approximately, cyclist, altimeter, power output, stopwatch‚Ä¶</p>
            </article>
            <article class="card">
                <h3>2. Sensors</h3>
                <p>
                    Vocabulary for different types of sensors and forces: bending, tension, load, impact
                    and deformation.
                </p>
                <p class="tag">sensor, accelerometer, shear, gauge, strain‚Ä¶</p>
            </article>
            <article class="card">
                <h3>3. Positioning</h3>
                <p>
                    Words used with GPS and navigation: satellites, latitude and longitude, radar and lidar.
                </p>
                <p class="tag">Global Positioning System, satellite, nautical mile, radar system‚Ä¶</p>
            </article>
        </div>
    </section>

    <!-- GAMES -->
    <section id="games">
        <h2 class="section-title">Game zone ‚Äì practise your vocabulary</h2>
        <p class="section-subtitle">
            First play the main quiz game with translations. Afterwards you can test your memory with the
            Category Challenge.
        </p>

        <!-- MAIN VOCAB QUIZ -->
        <div class="game-setup">
            <span>Choose a topic:</span>
            <select id="topic-select">
                <option value="all">All topics</option>
                <option value="sportsData">1 Sports Data</option>
                <option value="sensors">2 Sensors</option>
                <option value="positioning">3 Positioning</option>
            </select>
            <button class="btn-primary" id="start-quiz-btn">Start quiz</button>
        </div>

        <div class="game-container" id="quiz-game">
            <div class="game-header">
                <span id="quiz-progress">Question 0 / 0</span>
                <span id="quiz-score">Score: 0</span>
                <span id="quiz-lives" class="hearts">‚ô•‚ô•‚ô•</span>
            </div>
            <div class="game-question" id="quiz-question">
                Click ‚ÄúStart quiz‚Äù to begin.
            </div>
            <div class="game-subline" id="quiz-extra"></div>

            <div class="options-grid" id="quiz-options">
                <!-- answer buttons are injected here -->
            </div>

            <div class="game-feedback" id="quiz-feedback"></div>

            <button class="small-btn" id="quiz-next-btn" disabled>Next word</button>
            <button class="small-btn secondary" id="quiz-restart-btn" style="margin-left:8px;">Restart topic</button>
        </div>

        <!-- CATEGORY MINI GAME -->
        <div class="game-container" id="category-game">
            <h3 style="margin-bottom:6px;">Mini game: Category Challenge</h3>
            <p class="game-subline">
                Look at the word and decide: does it belong to <strong>Sports Data</strong>, <strong>Sensors</strong>
                or <strong>Positioning</strong>?
            </p>

            <div class="game-header">
                <span id="cat-progress">Round 0</span>
                <span id="cat-score">Score: 0</span>
            </div>

            <div id="cat-word">Press ‚ÄúNew word‚Äù to start.</div>

            <div class="cat-buttons">
                <button class="cat-btn" data-cat="sportsData">Sports Data</button>
                <button class="cat-btn" data-cat="sensors">Sensors</button>
                <button class="cat-btn" data-cat="positioning">Positioning</button>
            </div>

            <div class="game-feedback" id="cat-feedback"></div>
            <button class="small-btn secondary" id="cat-next-btn">New word</button>
        </div>
    </section>

    <!-- CONTACT / IDEAS -->
    <section id="contact">
        <h2 class="section-title">Use this page as your learning tool</h2>
        <p class="section-subtitle">
            You can extend this site with login, statistics or extra grammar pages. For now, it is a simple
            game-based trainer for your three vocabulary units.
        </p>

        <div class="card">
            <p style="font-size:0.9rem; color:#cbd5f5;">
                Ideas for the future:
            </p>
            <ul style="margin-left:18px; margin-top:8px; font-size:0.9rem; color:#cbd5f5;">
                <li>Word lists for each unit under this section</li>
                <li>Highscore list for all students in a class</li>
                <li>Extra game types (hangman, matching pairs, typing test)</li>
                <li>Separate pages for tests and homework</li>
            </ul>
        </div>
    </section>
</main>

<footer>
    <div class="footer-inner">
        <span>¬© 2025 TechVocab Trainer ‚Äì Sports Data, Sensors & Positioning</span>
        <span>
            <a href="#">Imprint</a>
            <a href="#">Privacy</a>
            <a href="#">Terms</a>
        </span>
    </div>
</footer>

<script>
    function scrollToSection(id) {
        const el = document.getElementById(id);
        if (el) el.scrollIntoView({behavior: "smooth"});
    }

    /* ===========================
       VOCABULARY DATA
       =========================== */

    const vocabData = {
        sportsData: {
            name: "Sports Data",
            words: [
                { word: "approximately", pos: "adv", german: "ungef√§hr" },
                { word: "cyclist", pos: "n", german: "Radfahrer/in" },
                { word: "almost", pos: "adv", german: "fast, beinahe" },
                { word: "altimeter", pos: "n", german: "H√∂henmesser" },
                { word: "altitude", pos: "n", german: "H√∂he, Meeresh√∂he" },
                { word: "apply", pos: "v", german: "anwenden" },
                { word: "atmospheric", pos: "adj", german: "atmosph√§risch" },
                { word: "barometer", pos: "n", german: "Barometer" },
                { word: "blog", pos: "n", german: "Blog" },
                { word: "chain", pos: "n", german: "Kette" },
                { word: "compete", pos: "v", german: "konkurrieren, an Wettk√§mpfen teilnehmen" },
                { word: "data", pos: "n", german: "Daten" },
                { word: "ensure", pos: "v", german: "sicherstellen" },
                { word: "lubricant", pos: "n", german: "Schmiermittel" },
                { word: "odometer", pos: "n", german: "Kilometerz√§hler" },
                { word: "quick release", pos: "adj", german: "Schnellspanner" },
                { word: "saddle", pos: "n", german: "Sattel" },
                { word: "slip", pos: "v", german: "ausrutschen" },
                { word: "tachometer", pos: "n", german: "Tachometer, Drehzahlmesser" },
                { word: "wear", pos: "n", german: "Abnutzung" },
                { word: "wheel rim", pos: "n", german: "Felge" },
                { word: "wirelessly", pos: "adv", german: "drahtlos" },
                { word: "worn", pos: "adj", german: "abgenutzt" },
                { word: "heartbeat", pos: "n", german: "Herzschlag" },
                { word: "heart rate monitor", pos: "n", german: "Pulsmesser" },
                { word: "kilopascal", pos: "n", german: "Kilopascal" },
                { word: "power output", pos: "n", german: "Leistung" },
                { word: "scales", pos: "n", german: "Waage" },
                { word: "stopwatch", pos: "n", german: "Stoppuhr" },
                { word: "just over", pos: "adv", german: "knapp √ºber" },
                { word: "just under", pos: "adv", german: "knapp unter" },
                { word: "more than", pos: "adv", german: "mehr als" },
                { word: "nearly", pos: "adv", german: "fast, nahezu" },
                { word: "filter", pos: "n", german: "Filter" },
                { word: "lubricate", pos: "v", german: "schmieren" }
            ]
        },
        sensors: {
            name: "Sensors",
            words: [
                { word: "squeeze", pos: "v", german: "pressen, quetschen" },
                { word: "sensor", pos: "n", german: "Sensor" },
                { word: "convert", pos: "v", german: "umwandeln" },
                { word: "detect", pos: "v", german: "erkennen" },
                { word: "environment", pos: "n", german: "Umgebung, Umwelt" },
                { word: "accelerometer", pos: "n", german: "Beschleunigungssensor" },
                { word: "bending", pos: "n", german: "Biegung" },
                { word: "chest", pos: "n", german: "Brust" },
                { word: "deflection", pos: "n", german: "Auslenkung" },
                { word: "dummy", pos: "n", german: "Attrappe, Dummy" },
                { word: "impact", pos: "n", german: "Aufprall" },
                { word: "in addition", pos: "", german: "au√üerdem" },
                { word: "load", pos: "n", german: "Belastung" },
                { word: "rib", pos: "n", german: "Rippe" },
                { word: "shear", pos: "n", german: "Scherkraft" },
                { word: "tension", pos: "n", german: "Zugspannung" },
                { word: "torsion", pos: "n", german: "Torsion, Verdrehung" },
                { word: "bass volume", pos: "n", german: "Basslautst√§rke" },
                { word: "dial", pos: "n", german: "Skala, Drehknopf" },
                { word: "gauge", pos: "n", german: "Messger√§t" },
                { word: "deformation", pos: "n", german: "Verformung" },
                { word: "strain", pos: "n", german: "Belastung, Spannung" }
            ]
        },
        positioning: {
            name: "Positioning",
            words: [
                { word: "exactly", pos: "adv", german: "genau" },
                { word: "for instance", pos: "", german: "zum Beispiel" },
                { word: "Global Positioning System (GPS)", pos: "n", german: "Globales Positionierungssystem" },
                { word: "in other words", pos: "", german: "mit anderen Worten" },
                { word: "latitude", pos: "n", german: "Breitengrad" },
                { word: "longitude", pos: "n", german: "L√§ngengrad" },
                { word: "multiply", pos: "v", german: "multiplizieren" },
                { word: "nautical mile", pos: "n", german: "Seemeile" },
                { word: "orbit", pos: "v", german: "umkreisen" },
                { word: "precise", pos: "adj", german: "pr√§zise, genau" },
                { word: "satellite", pos: "n", german: "Satellit" },
                { word: "subtract", pos: "v", german: "subtrahieren" },
                { word: "such as", pos: "", german: "zum Beispiel" },
                { word: "that is", pos: "", german: "das hei√üt" },
                { word: "transmission", pos: "n", german: "√úbertragung" },
                { word: "for example", pos: "", german: "zum Beispiel" },
                { word: "sea level", pos: "n", german: "Meeresspiegel" },
                { word: "approach", pos: "v", german: "sich n√§hern" },
                { word: "burst", pos: "n", german: "Sto√ü, kurzer Schub" },
                { word: "lidar system", pos: "n", german: "Lidar-System" },
                { word: "ping", pos: "n", german: "Ping, Signal" },
                { word: "pinger", pos: "n", german: "Peilsender" },
                { word: "radar system", pos: "n", german: "Radarsystem" },
                { word: "reflect", pos: "v", german: "reflektieren" }
            ]
        }
    };

    // helper to combine all words
    function getAllWords() {
        return [
            ...vocabData.sportsData.words.map(w => ({...w, topic: "sportsData"})),
            ...vocabData.sensors.words.map(w => ({...w, topic: "sensors"})),
            ...vocabData.positioning.words.map(w => ({...w, topic: "positioning"}))
        ];
    }

    /* ===========================
       MAIN QUIZ GAME
       =========================== */

    const topicSelect = document.getElementById("topic-select");
    const startQuizBtn = document.getElementById("start-quiz-btn");
    const quizProgressEl = document.getElementById("quiz-progress");
    const quizScoreEl = document.getElementById("quiz-score");
    const quizLivesEl = document.getElementById("quiz-lives");
    const quizQuestionEl = document.getElementById("quiz-question");
    const quizExtraEl = document.getElementById("quiz-extra");
    const quizOptionsEl = document.getElementById("quiz-options");
    const quizFeedbackEl = document.getElementById("quiz-feedback");
    const quizNextBtn = document.getElementById("quiz-next-btn");
    const quizRestartBtn = document.getElementById("quiz-restart-btn");

    let quizWords = [];
    let quizIndex = 0;
    let quizScore = 0;
    let quizLives = 3;
    let quizAnswered = false;

    function shuffle(array) {
        const copy = array.slice();
        for (let i = copy.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [copy[i], copy[j]] = [copy[j], copy[i]];
        }
        return copy;
    }

    function hearts(num) {
        return "‚ô•".repeat(num);
    }

    function buildQuizWordList(topicKey) {
        let words;
        if (topicKey === "all") {
            words = getAllWords();
        } else {
            words = vocabData[topicKey].words.map(w => ({...w, topic: topicKey}));
        }
        return shuffle(words);
    }

    function startQuiz() {
        const topicKey = topicSelect.value;
        quizWords = buildQuizWordList(topicKey);
        quizIndex = 0;
        quizScore = 0;
        quizLives = 3;
        quizScoreEl.textContent = "Score: 0";
        quizLivesEl.textContent = hearts(quizLives);
        quizFeedbackEl.textContent = "";
        quizNextBtn.disabled = true;
        quizNextBtn.textContent = "Next word";
        loadQuizQuestion();
    }

    function loadQuizQuestion() {
        if (quizWords.length === 0) {
            quizQuestionEl.textContent = "No words in this topic.";
            return;
        }

        if (quizLives <= 0) {
            quizQuestionEl.textContent = "Game over!";
            quizExtraEl.textContent =
                "Your final score: " + quizScore + " points. Click ‚ÄúRestart topic‚Äù to try again.";
            quizOptionsEl.innerHTML = "";
            quizNextBtn.disabled = true;
            return;
        }

        if (quizIndex >= quizWords.length) {
            quizQuestionEl.textContent = "You have answered all words in this topic!";
            quizExtraEl.textContent = "Great job. You can restart the topic or change the topic above.";
            quizOptionsEl.innerHTML = "";
            quizNextBtn.disabled = true;
            return;
        }

        const entry = quizWords[quizIndex];
        quizAnswered = false;

        quizProgressEl.textContent =
            "Question " + (quizIndex + 1) + " / " + quizWords.length +
            " (" + vocabData[entry.topic].name + ")";
        quizQuestionEl.textContent = "What is the German translation of ‚Äú" + entry.word + "‚Äù?";
        quizExtraEl.textContent = entry.pos ? "Part of speech: " + entry.pos : "";

        // build options: correct + 3 random wrong ones
        const allWords = getAllWords();
        const wrongPool = allWords.filter(w => w.word !== entry.word);
        const wrongOptions = shuffle(wrongPool).slice(0, 3);

        const optionEntries = shuffle([entry, ...wrongOptions]);

        quizOptionsEl.innerHTML = "";
        optionEntries.forEach(opt => {
            const btn = document.createElement("button");
            btn.className = "option-btn";
            btn.textContent = opt.german;
            btn.addEventListener("click", () => handleQuizAnswer(opt === entry, btn, entry));
            quizOptionsEl.appendChild(btn);
        });

        quizFeedbackEl.textContent = "";
        quizFeedbackEl.style.color = "#e5e7eb";
        quizNextBtn.disabled = true;
    }

    function handleQuizAnswer(isCorrect, button, entry) {
        if (quizAnswered) return;
        quizAnswered = true;

        const buttons = quizOptionsEl.querySelectorAll("button");
        buttons.forEach(b => b.disabled = true);

        // highlight correct answer
        buttons.forEach(b => {
            if (b.textContent === entry.german) {
                b.style.borderColor = "#22c55e";
            }
        });

        if (isCorrect) {
            quizScore += 10;
            quizFeedbackEl.style.color = "#22c55e";
            quizFeedbackEl.textContent =
                "Correct! ‚Äú" + entry.word + "‚Äù means ‚Äú" + entry.german + "‚Äù.";
        } else {
            quizLives -= 1;
            quizFeedbackEl.style.color = "#f97316";
            quizFeedbackEl.textContent =
                "Not correct. ‚Äú" + entry.word + "‚Äù = ‚Äú" + entry.german + "‚Äù.";
        }

        quizScoreEl.textContent = "Score: " + quizScore;
        quizLivesEl.textContent = hearts(quizLives);

        quizNextBtn.disabled = false;
    }

    quizNextBtn.addEventListener("click", () => {
        if (quizLives <= 0) {
            quizQuestionEl.textContent = "Game over! Click ‚ÄúRestart topic‚Äù to play again.";
            quizNextBtn.disabled = true;
            return;
        }
        quizIndex++;
        loadQuizQuestion();
    });

    quizRestartBtn.addEventListener("click", () => {
        startQuiz();
    });

    startQuizBtn.addEventListener("click", startQuiz);

    /* ===========================
       CATEGORY MINI GAME
       =========================== */

    const catProgressEl = document.getElementById("cat-progress");
    const catScoreEl = document.getElementById("cat-score");
    const catWordEl = document.getElementById("cat-word");
    const catFeedbackEl = document.getElementById("cat-feedback");
    const catNextBtn = document.getElementById("cat-next-btn");
    const catButtons = document.querySelectorAll(".cat-btn");

    let catScore = 0;
    let catRound = 0;
    let catCurrent = null;

    function newCategoryWord() {
        const all = getAllWords();
        catCurrent = all[Math.floor(Math.random() * all.length)];
        catRound++;
        catWordEl.textContent = "Word: ‚Äú" + catCurrent.word + "‚Äù";
        catProgressEl.textContent = "Round " + catRound;
        catFeedbackEl.textContent = "";
        catFeedbackEl.style.color = "#e5e7eb";
        catButtons.forEach(btn => btn.disabled = false);
    }

    catButtons.forEach(btn => {
        btn.addEventListener("click", () => {
            if (!catCurrent) return;
            const chosen = btn.getAttribute("data-cat");
            const correctTopic = catCurrent.topic;
            catButtons.forEach(b => b.disabled = true);

            if (chosen === correctTopic) {
                catScore++;
                catFeedbackEl.style.color = "#22c55e";
                catFeedbackEl.textContent =
                    "Correct! \"" + catCurrent.word + "\" is from " +
                    vocabData[correctTopic].name + ".";
            } else {
                catFeedbackEl.style.color = "#f97316";
                catFeedbackEl.textContent =
                    "Not correct. It belongs to " + vocabData[correctTopic].name + ".";
            }
            catScoreEl.textContent = "Score: " + catScore;
        });
    });

    catNextBtn.addEventListener("click", newCategoryWord);

    // initial state text already set; nothing else on load
</script>

</body>
</html>
